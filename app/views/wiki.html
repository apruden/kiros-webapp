<div>
	<button class="btn btn-primary" ng-click="addArticle()">Add article</button>
	<article ng-repeat="article in articles">
	<div>
		<div class="btn-group pull-right" dropdown>
			<button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle>
				Actions <span class="caret"></span>
			</button>
			<ul class="dropdown-menu" role="menu">
				<li><a href="#" ng-click="editArticle(article)">Edit</a></li>
				<li><a href="#" ng-click="deleteArticle(article)">Delete</a></li>
			</ul>
		</div>
		<h2>{{article.title}}</h2>
	</div>
	<div marked="article.content"></div>
	<div>
		<div>
			<h3 style="display: inline-block;">Comments</h3>
			<span>
				<button class="btn btn-default" ng-click="toggleComment(article)" ng-show="newCommentsCollapsed[article.id]">Add comment</button>
			</span>
		</div>
		<div collapse="newCommentsCollapsed[article.id]">
			<form role="form" ng-submit="addComment(article)">
				<div class="form-group">
					<textarea ng-model="newComments[article.id].content" class="form-control" placeholder="Add a comment"></textarea>
				</div>
				<button type="submit" class="btn btn-default">Send</button>
				<button class="btn btn-default" ng-click="toggleComment(article)">Cancel</button>
			</form>
		</div>
		<div class="media" ng-repeat="comment in article.comments">
			<div class="pull-right">
				<a href="">{{comment.postedBy.username}}</a> <span timeago="comment.modified"></span>
			</div>
			<div class="media-body" marked="comment.content">
			</div>
		</div>
		<!--<div>
			<button class="btn btn-default" ng-click="loadComments(article)">Show more</button>
		</div>-->
	</div>
	</article>
</div>
